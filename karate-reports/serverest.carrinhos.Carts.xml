<testsuite failures="6" name="serverest/carrinhos/Carts.feature" skipped="0" tests="6" time="0.45403"><testcase classname="serverest.carrinhos.Carts" name="CT01 - Full cart lifecycle for authenticated user" time="0.068844"><failure message="js failed:&#10;&gt;&gt;&gt;&gt;&#10;01: read('classpath:serverest/login/Login.feature@login-success')&#10;&lt;&lt;&lt;&lt;&#10;org.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature&#10;- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)&#10;- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)&#10;- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)&#10;- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)&#10;- &lt;js&gt;.:program(Unnamed:1)&#10;&#10;classpath:serverest/carrinhos/Carts.feature:10">* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def loginPayload = read('classpath:serverest/login/resources/loginPayload.json') . passed
* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success') . failed

Stack Trace:
com.intuit.karate.KarateException: js failed:
&gt;&gt;&gt;&gt;
01: read('classpath:serverest/login/Login.feature@login-success')
&lt;&lt;&lt;&lt;
org.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)
- &lt;js&gt;.:program(Unnamed:1)

classpath:serverest/carrinhos/Carts.feature:10
	at &lt;feature&gt;.: * def loginResponse = call read('classpath:serverest/login/Login.feature@login-success') (classpath:serverest/carrinhos/Carts.feature:10:10)

* def authToken = loginResponse.authToken ................................. skipped
Given path '/carrinhos/concluir-compra' ................................... skipped
And header Authorization = authToken ...................................... skipped
When method DELETE ........................................................ skipped
Then status 200 ........................................................... skipped
* def loginPayload = read('classpath:serverest/login/resources/loginPayload.json') . skipped
Given path '/login' ....................................................... skipped
And request loginPayload .................................................. skipped
When method POST .......................................................... skipped
Then status 200 ........................................................... skipped
* def token = response.authorization ...................................... skipped
* def productName = randomProductName() ................................... skipped
* def productData = ....................................................... skipped
Given path '/produtos' .................................................... skipped
And header Authorization = token .......................................... skipped
And request productData ................................................... skipped
When method POST .......................................................... skipped
Then status 201 ........................................................... skipped
And match response.message == 'Cadastro realizado com sucesso' ............ skipped
* def productId = response._id ............................................ skipped
* def cartBody = .......................................................... skipped
Given path '/carrinhos' ................................................... skipped
And header Authorization = token .......................................... skipped
And request cartBody ...................................................... skipped
When method POST .......................................................... skipped
Then status 201 ........................................................... skipped
And match response.message == 'Cadastro realizado com sucesso' ............ skipped
And match response._id == '#string' ....................................... skipped
* def cartId = response._id ............................................... skipped
Given path '/carrinhos/' + cartId ......................................... skipped
When method GET ........................................................... skipped
Then status 200 ........................................................... skipped
And match response == ..................................................... skipped
Given path '/carrinhos/concluir-compra' ................................... skipped
And header Authorization = token .......................................... skipped
When method DELETE ........................................................ skipped
Then status 200 ........................................................... skipped
And match response.message contains 'Registro excluído com sucesso' ....... skipped
</failure></testcase>
<testcase classname="serverest.carrinhos.Carts" name="CT02 - Cancel purchase and return products to stock" time="0.085092"><failure message="js failed:&#10;&gt;&gt;&gt;&gt;&#10;01: read('classpath:serverest/login/Login.feature@login-success')&#10;&lt;&lt;&lt;&lt;&#10;org.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature&#10;- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)&#10;- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)&#10;- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)&#10;- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)&#10;- &lt;js&gt;.:program(Unnamed:1)&#10;&#10;classpath:serverest/carrinhos/Carts.feature:10">* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def loginPayload = read('classpath:serverest/login/resources/loginPayload.json') . passed
* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success') . failed

Stack Trace:
com.intuit.karate.KarateException: js failed:
&gt;&gt;&gt;&gt;
01: read('classpath:serverest/login/Login.feature@login-success')
&lt;&lt;&lt;&lt;
org.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)
- &lt;js&gt;.:program(Unnamed:1)

classpath:serverest/carrinhos/Carts.feature:10
	at &lt;feature&gt;.: * def loginResponse = call read('classpath:serverest/login/Login.feature@login-success') (classpath:serverest/carrinhos/Carts.feature:10:10)

* def authToken = loginResponse.authToken ................................. skipped
Given path '/carrinhos/concluir-compra' ................................... skipped
And header Authorization = authToken ...................................... skipped
When method DELETE ........................................................ skipped
Then status 200 ........................................................... skipped
* def productName = randomProductName() ................................... skipped
* def productData = ....................................................... skipped
Given path '/produtos' .................................................... skipped
* print 'Using auth token:', authToken .................................... skipped
And header Authorization = authToken ...................................... skipped
And request productData ................................................... skipped
When method POST .......................................................... skipped
Then status 201 ........................................................... skipped
* def productId = response._id ............................................ skipped
* def cartBody = .......................................................... skipped
Given path '/carrinhos' ................................................... skipped
And header Authorization = authToken ...................................... skipped
And request cartBody ...................................................... skipped
When method POST .......................................................... skipped
Then status 201 ........................................................... skipped
Given path '/carrinhos/cancelar-compra' ................................... skipped
And header Authorization = authToken ...................................... skipped
When method DELETE ........................................................ skipped
Then status 200 ........................................................... skipped
And match response.message contains 'Registro excluído com sucesso' ....... skipped
</failure></testcase>
<testcase classname="serverest.carrinhos.Carts" name="CT03 - Prevent creating cart without authentication token" time="0.076875"><failure message="js failed:&#10;&gt;&gt;&gt;&gt;&#10;01: read('classpath:serverest/login/Login.feature@login-success')&#10;&lt;&lt;&lt;&lt;&#10;org.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature&#10;- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)&#10;- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)&#10;- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)&#10;- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)&#10;- &lt;js&gt;.:program(Unnamed:1)&#10;&#10;classpath:serverest/carrinhos/Carts.feature:10">* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def loginPayload = read('classpath:serverest/login/resources/loginPayload.json') . passed
* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success') . failed

Stack Trace:
com.intuit.karate.KarateException: js failed:
&gt;&gt;&gt;&gt;
01: read('classpath:serverest/login/Login.feature@login-success')
&lt;&lt;&lt;&lt;
org.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)
- &lt;js&gt;.:program(Unnamed:1)

classpath:serverest/carrinhos/Carts.feature:10
	at &lt;feature&gt;.: * def loginResponse = call read('classpath:serverest/login/Login.feature@login-success') (classpath:serverest/carrinhos/Carts.feature:10:10)

* def authToken = loginResponse.authToken ................................. skipped
Given path '/carrinhos/concluir-compra' ................................... skipped
And header Authorization = authToken ...................................... skipped
When method DELETE ........................................................ skipped
Then status 200 ........................................................... skipped
* def cartBody = .......................................................... skipped
Given path '/carrinhos' ................................................... skipped
And request cartBody ...................................................... skipped
When method POST .......................................................... skipped
Then status 401 ........................................................... skipped
And match response.message == 'Token de acesso ausente, inválido, expirado ou usuário do token não existe mais' . skipped
</failure></testcase>
<testcase classname="serverest.carrinhos.Carts" name="CT04 - Prevent creating more than one cart for the same user" time="0.076479"><failure message="js failed:&#10;&gt;&gt;&gt;&gt;&#10;01: read('classpath:serverest/login/Login.feature@login-success')&#10;&lt;&lt;&lt;&lt;&#10;org.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature&#10;- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)&#10;- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)&#10;- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)&#10;- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)&#10;- &lt;js&gt;.:program(Unnamed:1)&#10;&#10;classpath:serverest/carrinhos/Carts.feature:10">* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def loginPayload = read('classpath:serverest/login/resources/loginPayload.json') . passed
* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success') . failed

Stack Trace:
com.intuit.karate.KarateException: js failed:
&gt;&gt;&gt;&gt;
01: read('classpath:serverest/login/Login.feature@login-success')
&lt;&lt;&lt;&lt;
org.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)
- &lt;js&gt;.:program(Unnamed:1)

classpath:serverest/carrinhos/Carts.feature:10
	at &lt;feature&gt;.: * def loginResponse = call read('classpath:serverest/login/Login.feature@login-success') (classpath:serverest/carrinhos/Carts.feature:10:10)

* def authToken = loginResponse.authToken ................................. skipped
Given path '/carrinhos/concluir-compra' ................................... skipped
And header Authorization = authToken ...................................... skipped
When method DELETE ........................................................ skipped
Then status 200 ........................................................... skipped
* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success') . skipped
* def token = loginResponse.authToken ..................................... skipped
* def productName = randomProductName() ................................... skipped
* def productData = ....................................................... skipped
Given path '/produtos' .................................................... skipped
And header Authorization = token .......................................... skipped
And request productData ................................................... skipped
When method POST .......................................................... skipped
Then status 201 ........................................................... skipped
* def productId = response._id ............................................ skipped
* def firstCart = ......................................................... skipped
Given path '/carrinhos' ................................................... skipped
And header Authorization = token .......................................... skipped
And request firstCart ..................................................... skipped
When method POST .......................................................... skipped
Then status 201 ........................................................... skipped
* def secondCart = firstCart .............................................. skipped
Given path '/carrinhos' ................................................... skipped
And header Authorization = token .......................................... skipped
And request secondCart .................................................... skipped
When method POST .......................................................... skipped
Then status 400 ........................................................... skipped
And match response.message contains 'Não é permitido ter mais de 1 carrinho' . skipped
</failure></testcase>
<testcase classname="serverest.carrinhos.Carts" name="CT05 - Cart not found by ID" time="0.0677"><failure message="js failed:&#10;&gt;&gt;&gt;&gt;&#10;01: read('classpath:serverest/login/Login.feature@login-success')&#10;&lt;&lt;&lt;&lt;&#10;org.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature&#10;- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)&#10;- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)&#10;- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)&#10;- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)&#10;- &lt;js&gt;.:program(Unnamed:1)&#10;&#10;classpath:serverest/carrinhos/Carts.feature:10">* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def loginPayload = read('classpath:serverest/login/resources/loginPayload.json') . passed
* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success') . failed

Stack Trace:
com.intuit.karate.KarateException: js failed:
&gt;&gt;&gt;&gt;
01: read('classpath:serverest/login/Login.feature@login-success')
&lt;&lt;&lt;&lt;
org.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)
- &lt;js&gt;.:program(Unnamed:1)

classpath:serverest/carrinhos/Carts.feature:10
	at &lt;feature&gt;.: * def loginResponse = call read('classpath:serverest/login/Login.feature@login-success') (classpath:serverest/carrinhos/Carts.feature:10:10)

* def authToken = loginResponse.authToken ................................. skipped
Given path '/carrinhos/concluir-compra' ................................... skipped
And header Authorization = authToken ...................................... skipped
When method DELETE ........................................................ skipped
Then status 200 ........................................................... skipped
Given path '/carrinhos/invalid-cart-id-123' ............................... skipped
When method GET ........................................................... skipped
Then status 400 ........................................................... skipped
And match response == { id: 'id deve ter exatamente 16 caracteres alfanuméricos' } . skipped
</failure></testcase>
<testcase classname="serverest.carrinhos.Carts" name="CT06 - Prevent cart creation when product stock is insufficient" time="0.079038"><failure message="js failed:&#10;&gt;&gt;&gt;&gt;&#10;01: read('classpath:serverest/login/Login.feature@login-success')&#10;&lt;&lt;&lt;&lt;&#10;org.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature&#10;- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)&#10;- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)&#10;- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)&#10;- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)&#10;- &lt;js&gt;.:program(Unnamed:1)&#10;&#10;classpath:serverest/carrinhos/Carts.feature:10">* url 'https://serverest.dev' ............................................. passed
* def FakerUtils = Java.type('serverest.utils.FakerUtils') ................ passed
* def randomProductName = function(){ return FakerUtils.randomProduct() } . passed
* def loginPayload = read('classpath:serverest/login/resources/loginPayload.json') . passed
* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success') . failed

Stack Trace:
com.intuit.karate.KarateException: js failed:
&gt;&gt;&gt;&gt;
01: read('classpath:serverest/login/Login.feature@login-success')
&lt;&lt;&lt;&lt;
org.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature
- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)
- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)
- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)
- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)
- &lt;js&gt;.:program(Unnamed:1)

classpath:serverest/carrinhos/Carts.feature:10
	at &lt;feature&gt;.: * def loginResponse = call read('classpath:serverest/login/Login.feature@login-success') (classpath:serverest/carrinhos/Carts.feature:10:10)

* def authToken = loginResponse.authToken ................................. skipped
Given path '/carrinhos/concluir-compra' ................................... skipped
And header Authorization = authToken ...................................... skipped
When method DELETE ........................................................ skipped
Then status 200 ........................................................... skipped
* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success') . skipped
* def token = loginResponse.authToken ..................................... skipped
* def productName = randomProductName() ................................... skipped
* def productData = ....................................................... skipped
Given path '/produtos' .................................................... skipped
And header Authorization = token .......................................... skipped
And request productData ................................................... skipped
When method POST .......................................................... skipped
Then status 201 ........................................................... skipped
* def productId = response._id ............................................ skipped
* def cartBody = .......................................................... skipped
Given path '/carrinhos' ................................................... skipped
And header Authorization = token .......................................... skipped
And request cartBody ...................................................... skipped
When method POST .......................................................... skipped
Then status 400 ........................................................... skipped
And match response.message contains 'Produto não possui quantidade suficiente' . skipped
</failure></testcase>
</testsuite>
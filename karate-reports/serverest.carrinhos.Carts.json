[{"line":3,"elements":[{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":4051852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":3828154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":7378307,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":44978677,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def email = function(){ return FakerUtils.randomEmail() }","result":{"duration":832724,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10}]},{"start_timestamp":"2026-02-20T03:11:56.369Z","line":13,"name":"CT01 - Full cart lifecycle for authenticated user","description":"","id":"ct01---full-cart-lifecycle-for-authenticated-user","type":"scenario","keyword":"Scenario","steps":[{"name":"def userEmail = email()","result":{"duration":270080691,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Create a dedicated user for this cart scenario"],"keyword":"*","line":15},{"name":"def userPassword = 'SenhaSegura@123'","result":{"duration":3112979,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"def newUser =","result":{"duration":2037311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17,"doc_string":{"content_type":"","value":"{\n  \"nome\": \"Cart User\",\n  \"email\": \"#(userEmail)\",\n  \"password\": \"#(userPassword)\",\n  \"administrador\": \"true\"\n}","line":17}},{"name":"path '/usuarios'","result":{"duration":258964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":27},{"name":"request newUser","result":{"duration":1859219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"method POST","result":{"duration":655376134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":29,"doc_string":{"content_type":"","value":"03:11:56.789 request:\n1 > POST https://serverest.dev/usuarios\n1 > Content-Type: application/json; charset=UTF-8\n1 > Content-Length: 99\n1 > Host: serverest.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"nome\":\"Cart User\",\"email\":\"elvira@gmail.com\",\"password\":\"SenhaSegura@123\",\"administrador\":\"true\"}\n\n03:11:57.433 response time in milliseconds: 641\n1 < 201\n1 < access-control-allow-origin: *\n1 < x-dns-prefetch-control: off\n1 < x-frame-options: SAMEORIGIN\n1 < strict-transport-security: max-age=15552000; includeSubDomains\n1 < x-download-options: noopen\n1 < x-content-type-options: nosniff\n1 < x-xss-protection: 1; mode=block\n1 < content-type: application/json; charset=utf-8\n1 < x-cloud-trace-context: 3fe2cf8619041668c9eb42914ddece22\n1 < date: Fri, 20 Feb 2026 03:11:57 GMT\n1 < server: Google Frontend\n1 < Content-Length: 82\n{\n    \"message\": \"Cadastro realizado com sucesso\",\n    \"_id\": \"xlGx7xad44Pc2pSK\"\n}\n\n","line":29}},{"name":"status 201","result":{"duration":11512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":30},{"name":"set loginPayload.email = userEmail","result":{"duration":2042281,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Update login payload to use the created user's credentials"],"keyword":"*","line":33},{"name":"set loginPayload.password = userPassword","result":{"duration":397402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"path '/login'","result":{"duration":788050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":36},{"name":"request loginPayload","result":{"duration":128741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"method POST","result":{"duration":55657379,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":38,"doc_string":{"content_type":"","value":"03:11:57.439 request:\n2 > POST https://serverest.dev/login\n2 > Content-Type: application/json; charset=UTF-8\n2 > Content-Length: 57\n2 > Host: serverest.dev\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n2 > Accept-Encoding: gzip,deflate\n{\"email\":\"elvira@gmail.com\",\"password\":\"SenhaSegura@123\"}\n\n03:11:57.493 response time in milliseconds: 53\n2 < 200\n2 < access-control-allow-origin: *\n2 < x-dns-prefetch-control: off\n2 < x-frame-options: SAMEORIGIN\n2 < strict-transport-security: max-age=15552000; includeSubDomains\n2 < x-download-options: noopen\n2 < x-content-type-options: nosniff\n2 < x-xss-protection: 1; mode=block\n2 < content-type: application/json; charset=utf-8\n2 < x-cloud-trace-context: 98d790c34d2e22270c89f4eb067aa08f\n2 < date: Fri, 20 Feb 2026 03:11:57 GMT\n2 < server: Google Frontend\n2 < Content-Length: 283\n{\n    \"message\": \"Login realizado com sucesso\",\n    \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImVsdmlyYUBnbWFpbC5jb20iLCJwYXNzd29yZCI6IlNlbmhhU2VndXJhQDEyMyIsImlhdCI6MTc3MTU1NzExNywiZXhwIjoxNzcxNTU3NzE3fQ.h_X77616Vy_tvKZ6tbrYcnxVnZ_w87dnl-2dBZ6uCQ8\"\n}\n\n","line":38}},{"name":"status 200","result":{"duration":9448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":39},{"name":"def token = response.authorization","result":{"duration":1799561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40},{"name":"path '/carrinhos/cancelar-compra'","result":{"duration":273300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":42},{"name":"header Authorization = token","result":{"duration":337300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"method DELETE","result":{"duration":137624438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":44,"doc_string":{"content_type":"","value":"03:11:57.497 request:\n3 > DELETE https://serverest.dev/carrinhos/cancelar-compra\n3 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImVsdmlyYUBnbWFpbC5jb20iLCJwYXNzd29yZCI6IlNlbmhhU2VndXJhQDEyMyIsImlhdCI6MTc3MTU1NzExNywiZXhwIjoxNzcxNTU3NzE3fQ.h_X77616Vy_tvKZ6tbrYcnxVnZ_w87dnl-2dBZ6uCQ8\n3 > Host: serverest.dev\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n3 > Accept-Encoding: gzip,deflate\n\n\n03:11:57.633 response time in milliseconds: 135\n3 < 200\n3 < access-control-allow-origin: *\n3 < x-dns-prefetch-control: off\n3 < x-frame-options: SAMEORIGIN\n3 < strict-transport-security: max-age=15552000; includeSubDomains\n3 < x-download-options: noopen\n3 < x-content-type-options: nosniff\n3 < x-xss-protection: 1; mode=block\n3 < content-type: application/json; charset=utf-8\n3 < x-cloud-trace-context: e3be6790afd1191d3604d1444941c1bc\n3 < date: Fri, 20 Feb 2026 03:11:57 GMT\n3 < server: Google Frontend\n3 < Content-Length: 68\n{\n    \"message\": \"Não foi encontrado carrinho para esse usuário\"\n}\n\n","line":44}},{"name":"status 200","result":{"duration":12193,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":45},{"name":"def productName = randomProductName()","result":{"duration":4295586,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Create a product to be used in the cart"],"keyword":"*","line":48},{"name":"def productData =","result":{"duration":815632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49,"doc_string":{"content_type":"","value":"{\n  \"nome\": \"#(productName)\",\n  \"preco\": 150,\n  \"descricao\": \"Product created for cart lifecycle test\",\n  \"quantidade\": 10\n}","line":49}},{"name":"path '/produtos'","result":{"duration":288138,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":59},{"name":"header Authorization = token","result":{"duration":161942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":60},{"name":"request productData","result":{"duration":118050,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":61},{"name":"method POST","result":{"duration":147392205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":62,"doc_string":{"content_type":"","value":"03:11:57.641 request:\n4 > POST https://serverest.dev/produtos\n4 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImVsdmlyYUBnbWFpbC5jb20iLCJwYXNzd29yZCI6IlNlbmhhU2VndXJhQDEyMyIsImlhdCI6MTc3MTU1NzExNywiZXhwIjoxNzcxNTU3NzE3fQ.h_X77616Vy_tvKZ6tbrYcnxVnZ_w87dnl-2dBZ6uCQ8\n4 > Content-Type: application/json; charset=UTF-8\n4 > Content-Length: 116\n4 > Host: serverest.dev\n4 > Connection: Keep-Alive\n4 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n4 > Accept-Encoding: gzip,deflate\n{\"nome\":\"Ergonomic Leather Chair\",\"preco\":150,\"descricao\":\"Product created for cart lifecycle test\",\"quantidade\":10}\n\n03:11:57.787 response time in milliseconds: 145\n4 < 201\n4 < access-control-allow-origin: *\n4 < x-dns-prefetch-control: off\n4 < x-frame-options: SAMEORIGIN\n4 < strict-transport-security: max-age=15552000; includeSubDomains\n4 < x-download-options: noopen\n4 < x-content-type-options: nosniff\n4 < x-xss-protection: 1; mode=block\n4 < content-type: application/json; charset=utf-8\n4 < x-cloud-trace-context: bad808924929f3e4930d836707faeb9f\n4 < date: Fri, 20 Feb 2026 03:11:57 GMT\n4 < server: Google Frontend\n4 < Content-Length: 82\n{\n    \"message\": \"Cadastro realizado com sucesso\",\n    \"_id\": \"ShdmqBhyx4cmB61S\"\n}\n\n","line":62}},{"name":"status 201","result":{"duration":12203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":63},{"name":"match response.message == 'Cadastro realizado com sucesso'","result":{"duration":4699467,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":64},{"name":"def productId = response._id","result":{"duration":723441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":65},{"result":{"duration":585082,"status":"passed"},"comments":["# Create a cart for the logged user"],"line":68,"name":"def cartBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"#(productId)\",\n      \"quantidade\": 2\n    }\n  ]\n}","line":68}},{"name":"path '/carrinhos'","result":{"duration":237914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":80},{"name":"header Authorization = token","result":{"duration":214851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":81},{"name":"request cartBody","result":{"duration":116878,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":82},{"name":"method POST","result":{"duration":73324168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":83,"doc_string":{"content_type":"","value":"03:11:57.795 request:\n5 > POST https://serverest.dev/carrinhos\n5 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImVsdmlyYUBnbWFpbC5jb20iLCJwYXNzd29yZCI6IlNlbmhhU2VndXJhQDEyMyIsImlhdCI6MTc3MTU1NzExNywiZXhwIjoxNzcxNTU3NzE3fQ.h_X77616Vy_tvKZ6tbrYcnxVnZ_w87dnl-2dBZ6uCQ8\n5 > Content-Type: application/json; charset=UTF-8\n5 > Content-Length: 62\n5 > Host: serverest.dev\n5 > Connection: Keep-Alive\n5 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n5 > Accept-Encoding: gzip,deflate\n{\"produtos\":[{\"idProduto\":\"ShdmqBhyx4cmB61S\",\"quantidade\":2}]}\n\n03:11:57.867 response time in milliseconds: 71\n5 < 201\n5 < access-control-allow-origin: *\n5 < x-dns-prefetch-control: off\n5 < x-frame-options: SAMEORIGIN\n5 < strict-transport-security: max-age=15552000; includeSubDomains\n5 < x-download-options: noopen\n5 < x-content-type-options: nosniff\n5 < x-xss-protection: 1; mode=block\n5 < content-type: application/json; charset=utf-8\n5 < x-cloud-trace-context: fb1b3c2a76e7dbc4ceace1caab708bd2\n5 < date: Fri, 20 Feb 2026 03:11:57 GMT\n5 < server: Google Frontend\n5 < Content-Length: 82\n{\n    \"message\": \"Cadastro realizado com sucesso\",\n    \"_id\": \"GYHt3gOXnZaDrZMY\"\n}\n\n","line":83}},{"name":"status 201","result":{"duration":9879,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":84},{"name":"match response.message == 'Cadastro realizado com sucesso'","result":{"duration":344453,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":85},{"name":"match response._id == '#string'","result":{"duration":693644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":86},{"name":"def cartId = response._id","result":{"duration":235329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":87},{"name":"path '/carrinhos/' + cartId","result":{"duration":625537,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Get cart by ID and validate structure"],"keyword":"Given","line":90},{"name":"method GET","result":{"duration":62974145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":91,"doc_string":{"content_type":"","value":"03:11:57.871 request:\n6 > GET https://serverest.dev/carrinhos/GYHt3gOXnZaDrZMY\n6 > Host: serverest.dev\n6 > Connection: Keep-Alive\n6 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n6 > Accept-Encoding: gzip,deflate\n\n\n03:11:57.932 response time in milliseconds: 61\n6 < 200\n6 < access-control-allow-origin: *\n6 < x-dns-prefetch-control: off\n6 < x-frame-options: SAMEORIGIN\n6 < strict-transport-security: max-age=15552000; includeSubDomains\n6 < x-download-options: noopen\n6 < x-content-type-options: nosniff\n6 < x-xss-protection: 1; mode=block\n6 < content-type: application/json; charset=utf-8\n6 < x-cloud-trace-context: a417aa06c10e0ab7fdfb506b209658ba\n6 < date: Fri, 20 Feb 2026 03:11:57 GMT\n6 < server: Google Frontend\n6 < Content-Length: 271\n{\n    \"produtos\": [\n        {\n            \"idProduto\": \"ShdmqBhyx4cmB61S\",\n            \"quantidade\": 2,\n            \"precoUnitario\": 150\n        }\n    ],\n    \"precoTotal\": 300,\n    \"quantidadeTotal\": 2,\n    \"idUsuario\": \"xlGx7xad44Pc2pSK\",\n    \"_id\": \"GYHt3gOXnZaDrZMY\"\n}\n\n","line":91}},{"name":"status 200","result":{"duration":7214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":92},{"name":"match response ==","result":{"duration":9050800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":93,"doc_string":{"content_type":"","value":"{\n  produtos: '#[1]',\n  precoTotal: '#number',\n  quantidadeTotal: '#number',\n  idUsuario: '#string',\n  _id: '#string'\n}","line":93}},{"name":"path '/carrinhos/concluir-compra'","result":{"duration":398273,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Conclude purchase: cart should be removed"],"keyword":"Given","line":105},{"name":"header Authorization = token","result":{"duration":132898,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":106},{"name":"method DELETE","result":{"duration":68388380,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":107,"doc_string":{"content_type":"","value":"03:11:57.944 request:\n7 > DELETE https://serverest.dev/carrinhos/concluir-compra\n7 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImVsdmlyYUBnbWFpbC5jb20iLCJwYXNzd29yZCI6IlNlbmhhU2VndXJhQDEyMyIsImlhdCI6MTc3MTU1NzExNywiZXhwIjoxNzcxNTU3NzE3fQ.h_X77616Vy_tvKZ6tbrYcnxVnZ_w87dnl-2dBZ6uCQ8\n7 > Host: serverest.dev\n7 > Connection: Keep-Alive\n7 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n7 > Accept-Encoding: gzip,deflate\n\n\n03:11:58.010 response time in milliseconds: 66\n7 < 200\n7 < access-control-allow-origin: *\n7 < x-dns-prefetch-control: off\n7 < x-frame-options: SAMEORIGIN\n7 < strict-transport-security: max-age=15552000; includeSubDomains\n7 < x-download-options: noopen\n7 < x-content-type-options: nosniff\n7 < x-xss-protection: 1; mode=block\n7 < content-type: application/json; charset=utf-8\n7 < x-cloud-trace-context: 394f24dea0703bbcb70a0aa82e219af2\n7 < date: Fri, 20 Feb 2026 03:11:58 GMT\n7 < server: Google Frontend\n7 < Content-Length: 51\n{\n    \"message\": \"Registro excluído com sucesso\"\n}\n\n","line":107}},{"name":"status 200","result":{"duration":11532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":108},{"name":"match response.message contains 'Registro excluído com sucesso'","result":{"duration":738629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":109}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":12},{"name":"@ct001","line":12}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":2175900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":8835338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":868741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":38669210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def email = function(){ return FakerUtils.randomEmail() }","result":{"duration":1460225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10}]},{"start_timestamp":"2026-02-20T03:11:56.371Z","line":112,"name":"CT02 - Cancel purchase and return products to stock","description":"","id":"ct02---cancel-purchase-and-return-products-to-stock","type":"scenario","keyword":"Scenario","steps":[{"name":"path '/login'","result":{"duration":10561097,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":113},{"name":"request loginPayload","result":{"duration":374629,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":114},{"name":"method POST","result":{"duration":849728289,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":115,"doc_string":{"content_type":"","value":"03:11:56.789 request:\n1 > POST https://serverest.dev/login\n1 > Content-Type: application/json; charset=UTF-8\n1 > Content-Length: 44\n1 > Host: serverest.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"fulano@qa.com\",\"password\":\"teste\"}\n\n03:11:57.352 response time in milliseconds: 563\n1 < 401\n1 < access-control-allow-origin: *\n1 < x-dns-prefetch-control: off\n1 < x-frame-options: SAMEORIGIN\n1 < strict-transport-security: max-age=15552000; includeSubDomains\n1 < x-download-options: noopen\n1 < x-content-type-options: nosniff\n1 < x-xss-protection: 1; mode=block\n1 < content-type: application/json; charset=utf-8\n1 < x-cloud-trace-context: 14d5da49511a56ccb7e5714de50d3186\n1 < date: Fri, 20 Feb 2026 03:11:57 GMT\n1 < server: Google Frontend\n1 < Content-Length: 48\n{\n    \"message\": \"Email e/ou senha inválidos\"\n}\n\n","line":115}},{"name":"status 200","result":{"duration":67085,"error_message":"status code was: 401, expected: 200, response time in milliseconds: 563, url: https://serverest.dev/login, response: \n{\n    \"message\": \"Email e/ou senha inválidos\"\n}\nclasspath:serverest/carrinhos/Carts.feature:116","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":116,"doc_string":{"content_type":"","value":"03:11:57.355 classpath:serverest/carrinhos/Carts.feature:116\nThen status 200\nstatus code was: 401, expected: 200, response time in milliseconds: 563, url: https://serverest.dev/login, response: \n{\n    \"message\": \"Email e/ou senha inválidos\"\n}\nclasspath:serverest/carrinhos/Carts.feature:116\n","line":116}},{"name":"def token = response.authorization","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":117},{"name":"path '/carrinhos/cancelar-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Ensure there is no existing cart for this user"],"keyword":"Given","line":120},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":121},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":122},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":123},{"name":"def productName = randomProductName()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Create product for the cart"],"keyword":"*","line":126},{"name":"def productData =","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":127,"doc_string":{"content_type":"","value":"{\n  \"nome\": \"#(productName)\",\n  \"preco\": 200,\n  \"descricao\": \"Product for cancel purchase test\",\n  \"quantidade\": 5\n}","line":127}},{"name":"path '/produtos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":137},{"name":"print 'Using auth token:', token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":138},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":139},{"name":"request productData","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":140},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":141},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":142},{"name":"def productId = response._id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":143},{"result":{"duration":0,"status":"skipped"},"comments":["# Create cart"],"line":146,"name":"def cartBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"#(productId)\",\n      \"quantidade\": 1\n    }\n  ]\n}","line":146}},{"name":"path '/carrinhos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":158},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":159},{"name":"request cartBody","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":160},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":161},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":162},{"name":"path '/carrinhos/cancelar-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Cancel purchase: cart removed and stock should be restored (implicit)"],"keyword":"Given","line":165},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":166},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":167},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":168},{"name":"match response.message == '#string'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":169}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":111}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":2817157,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":8038862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":4015624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":41690477,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def email = function(){ return FakerUtils.randomEmail() }","result":{"duration":7034327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10}]},{"start_timestamp":"2026-02-20T03:11:56.367Z","line":172,"name":"CT03 - Prevent creating cart without authentication token","description":"","id":"ct03---prevent-creating-cart-without-authentication-token","type":"scenario","keyword":"Scenario","steps":[{"result":{"duration":551409,"status":"passed"},"comments":["# Try to create a cart without Authorization header"],"line":174,"name":"def cartBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"BeeJh5lz3k6kSIzA\",\n      \"quantidade\": 1\n    }\n  ]\n}","line":174}},{"name":"path '/carrinhos'","result":{"duration":288699,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":186},{"name":"request cartBody","result":{"duration":410396,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":187},{"name":"method POST","result":{"duration":883310414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":188,"doc_string":{"content_type":"","value":"03:11:56.789 request:\n1 > POST https://serverest.dev/carrinhos\n1 > Content-Type: application/json; charset=UTF-8\n1 > Content-Length: 62\n1 > Host: serverest.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"produtos\":[{\"idProduto\":\"BeeJh5lz3k6kSIzA\",\"quantidade\":1}]}\n\n03:11:57.377 response time in milliseconds: 587\n1 < 401\n1 < access-control-allow-origin: *\n1 < x-dns-prefetch-control: off\n1 < x-frame-options: SAMEORIGIN\n1 < strict-transport-security: max-age=15552000; includeSubDomains\n1 < x-download-options: noopen\n1 < x-content-type-options: nosniff\n1 < x-xss-protection: 1; mode=block\n1 < content-type: application/json; charset=utf-8\n1 < x-cloud-trace-context: c2e517345a9714f5e1f39caf16c2fd5e\n1 < date: Fri, 20 Feb 2026 03:11:57 GMT\n1 < server: Google Frontend\n1 < Content-Length: 103\n{\n    \"message\": \"Token de acesso ausente, inválido, expirado ou usuário do token não existe mais\"\n}\n\n","line":188}},{"name":"status 401","result":{"duration":11000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":189},{"name":"match response.message == 'Token de acesso ausente, inválido, expirado ou usuário do token não existe mais'","result":{"duration":8630988,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":190}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":171}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":2011003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":9279818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":855706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":42946342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def email = function(){ return FakerUtils.randomEmail() }","result":{"duration":918824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10}]},{"start_timestamp":"2026-02-20T03:11:56.367Z","line":193,"name":"CT04 - Prevent creating more than one cart for the same user","description":"","id":"ct04---prevent-creating-more-than-one-cart-for-the-same-user","type":"scenario","keyword":"Scenario","steps":[{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":8451180,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":194},{"name":"path '/login'","result":{"duration":361304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":195},{"name":"request loginPayload","result":{"duration":313866,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":196},{"name":"method POST","result":{"duration":833667117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":197,"doc_string":{"content_type":"","value":"03:11:56.789 request:\n1 > POST https://serverest.dev/login\n1 > Content-Type: application/json; charset=UTF-8\n1 > Content-Length: 44\n1 > Host: serverest.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"fulano@qa.com\",\"password\":\"teste\"}\n\n03:11:57.336 response time in milliseconds: 544\n1 < 401\n1 < access-control-allow-origin: *\n1 < x-dns-prefetch-control: off\n1 < x-frame-options: SAMEORIGIN\n1 < strict-transport-security: max-age=15552000; includeSubDomains\n1 < x-download-options: noopen\n1 < x-content-type-options: nosniff\n1 < x-xss-protection: 1; mode=block\n1 < content-type: application/json; charset=utf-8\n1 < x-cloud-trace-context: d41f52f375fa3f2b057e50111af9efcd;o=1\n1 < date: Fri, 20 Feb 2026 03:11:57 GMT\n1 < server: Google Frontend\n1 < Content-Length: 48\n{\n    \"message\": \"Email e/ou senha inválidos\"\n}\n\n","line":197}},{"name":"status 200","result":{"duration":10017414,"error_message":"status code was: 401, expected: 200, response time in milliseconds: 544, url: https://serverest.dev/login, response: \n{\n    \"message\": \"Email e/ou senha inválidos\"\n}\nclasspath:serverest/carrinhos/Carts.feature:198","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":198,"doc_string":{"content_type":"","value":"03:11:57.352 classpath:serverest/carrinhos/Carts.feature:198\nThen status 200\nstatus code was: 401, expected: 200, response time in milliseconds: 544, url: https://serverest.dev/login, response: \n{\n    \"message\": \"Email e/ou senha inválidos\"\n}\nclasspath:serverest/carrinhos/Carts.feature:198\n","line":198}},{"name":"def token = response.authorization","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":199},{"name":"path '/carrinhos/cancelar-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Ensure there is no existing cart for this user before creating the first cart"],"keyword":"Given","line":202},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":203},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":204},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":205},{"name":"def productName = randomProductName()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Create a product specifically for this user's cart"],"keyword":"*","line":208},{"name":"def productData =","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":209,"doc_string":{"content_type":"","value":"{\n  \"nome\": \"#(productName)\",\n  \"preco\": 120,\n  \"descricao\": \"Product for multiple cart test\",\n  \"quantidade\": 3\n}","line":209}},{"name":"path '/produtos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":219},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":220},{"name":"request productData","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":221},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":222},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":223},{"name":"def productId = response._id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":224},{"result":{"duration":0,"status":"skipped"},"comments":["# Create the first cart"],"line":227,"name":"def firstCart =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"#(productId)\",\n      \"quantidade\": 1\n    }\n  ]\n}","line":227}},{"name":"path '/carrinhos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":239},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":240},{"name":"request firstCart","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":241},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":242},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":243},{"name":"def secondCart = firstCart","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Try to create a second cart for same user"],"keyword":"*","line":246},{"name":"path '/carrinhos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":247},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":248},{"name":"request secondCart","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":249},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":250},{"name":"status 400","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":251},{"name":"match response.message contains 'Não é permitido ter mais de 1 carrinho'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":252}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":192}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":1932696,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":8100527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":917904,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":48541232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def email = function(){ return FakerUtils.randomEmail() }","result":{"duration":909537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10}]},{"start_timestamp":"2026-02-20T03:11:56.367Z","line":255,"name":"CT05 - Cart not found by ID","description":"","id":"ct05---cart-not-found-by-id","type":"scenario","keyword":"Scenario","steps":[{"name":"path '/carrinhos/invalid-cart-id-123'","result":{"duration":275725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":256},{"name":"method GET","result":{"duration":862673135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":257,"doc_string":{"content_type":"","value":"03:11:56.787 request:\n1 > GET https://serverest.dev/carrinhos/invalid-cart-id-123\n1 > Host: serverest.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n1 > Accept-Encoding: gzip,deflate\n\n\n03:11:57.361 response time in milliseconds: 572\n1 < 400\n1 < access-control-allow-origin: *\n1 < x-dns-prefetch-control: off\n1 < x-frame-options: SAMEORIGIN\n1 < strict-transport-security: max-age=15552000; includeSubDomains\n1 < x-download-options: noopen\n1 < x-content-type-options: nosniff\n1 < x-xss-protection: 1; mode=block\n1 < content-type: application/json; charset=utf-8\n1 < x-cloud-trace-context: 393858db07264ada9816caa96d8ed440\n1 < date: Fri, 20 Feb 2026 03:11:57 GMT\n1 < server: Google Frontend\n1 < Content-Length: 67\n{\n    \"id\": \"id deve ter exatamente 16 caracteres alfanuméricos\"\n}\n\n","line":257}},{"name":"status 400","result":{"duration":10720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":258},{"name":"match response == { id: 'id deve ter exatamente 16 caracteres alfanuméricos' }","result":{"duration":24864178,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":259}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":254}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":3262598,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":13659280,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":825471,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":39835066,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def email = function(){ return FakerUtils.randomEmail() }","result":{"duration":787911,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10}]},{"start_timestamp":"2026-02-20T03:11:56.370Z","line":262,"name":"CT06 - Prevent cart creation when product stock is insufficient","description":"","id":"ct06---prevent-cart-creation-when-product-stock-is-insufficient","type":"scenario","keyword":"Scenario","steps":[{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":940074,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":263},{"name":"path '/login'","result":{"duration":328534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":264},{"name":"request loginPayload","result":{"duration":12855189,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":265},{"name":"method POST","result":{"duration":852419590,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":266,"doc_string":{"content_type":"","value":"03:11:56.788 request:\n1 > POST https://serverest.dev/login\n1 > Content-Type: application/json; charset=UTF-8\n1 > Content-Length: 44\n1 > Host: serverest.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"fulano@qa.com\",\"password\":\"teste\"}\n\n03:11:57.359 response time in milliseconds: 570\n1 < 401\n1 < access-control-allow-origin: *\n1 < x-dns-prefetch-control: off\n1 < x-frame-options: SAMEORIGIN\n1 < strict-transport-security: max-age=15552000; includeSubDomains\n1 < x-download-options: noopen\n1 < x-content-type-options: nosniff\n1 < x-xss-protection: 1; mode=block\n1 < content-type: application/json; charset=utf-8\n1 < x-cloud-trace-context: 101ad6996e4f08e6574a4185f5d0f037\n1 < date: Fri, 20 Feb 2026 03:11:57 GMT\n1 < server: Google Frontend\n1 < Content-Length: 48\n{\n    \"message\": \"Email e/ou senha inválidos\"\n}\n\n","line":266}},{"name":"status 200","result":{"duration":42288,"error_message":"status code was: 401, expected: 200, response time in milliseconds: 570, url: https://serverest.dev/login, response: \n{\n    \"message\": \"Email e/ou senha inválidos\"\n}\nclasspath:serverest/carrinhos/Carts.feature:267","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":267,"doc_string":{"content_type":"","value":"03:11:57.363 classpath:serverest/carrinhos/Carts.feature:267\nThen status 200\nstatus code was: 401, expected: 200, response time in milliseconds: 570, url: https://serverest.dev/login, response: \n{\n    \"message\": \"Email e/ou senha inválidos\"\n}\nclasspath:serverest/carrinhos/Carts.feature:267\n","line":267}},{"name":"def token = response.authorization","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":268},{"name":"path '/carrinhos/cancelar-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":270},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":271},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":272},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":273},{"name":"def productName = randomProductName()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Create product with low stock"],"keyword":"*","line":276},{"name":"def productData =","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":277,"doc_string":{"content_type":"","value":"{\n  \"nome\": \"#(productName)\",\n  \"preco\": 100,\n  \"descricao\": \"Low stock product for cart test\",\n  \"quantidade\": 1\n}","line":277}},{"name":"path '/produtos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":287},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":288},{"name":"request productData","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":289},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":290},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":291},{"name":"def productId = response._id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":292},{"result":{"duration":0,"status":"skipped"},"comments":["# Try to create cart with quantity greater than available stock"],"line":295,"name":"def cartBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"#(productId)\",\n      \"quantidade\": 2\n    }\n  ]\n}","line":295}},{"name":"path '/carrinhos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":307},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":308},{"name":"request cartBody","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":309},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":310},{"name":"status 400","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":311},{"name":"match response.message contains 'Produto não possui quantidade suficiente'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":312}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":261}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":183322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":411568,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":371894,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":728298,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def email = function(){ return FakerUtils.randomEmail() }","result":{"duration":426586,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10}]},{"start_timestamp":"2026-02-20T03:11:57.362Z","line":316,"name":"CT07 - Prevent cart creation with duplicated products in the same cart","description":"","id":"ct07---prevent-cart-creation-with-duplicated-products-in-the-same-cart","type":"scenario","keyword":"Scenario","steps":[{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":776719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":317},{"name":"path '/login'","result":{"duration":84969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":318},{"name":"request loginPayload","result":{"duration":148417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":319},{"name":"method POST","result":{"duration":97697903,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":320,"doc_string":{"content_type":"","value":"03:11:57.378 request:\n1 > POST https://serverest.dev/login\n1 > Content-Type: application/json; charset=UTF-8\n1 > Content-Length: 44\n1 > Host: serverest.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"fulano@qa.com\",\"password\":\"teste\"}\n\n03:11:57.474 response time in milliseconds: 95\n1 < 401\n1 < access-control-allow-origin: *\n1 < x-dns-prefetch-control: off\n1 < x-frame-options: SAMEORIGIN\n1 < strict-transport-security: max-age=15552000; includeSubDomains\n1 < x-download-options: noopen\n1 < x-content-type-options: nosniff\n1 < x-xss-protection: 1; mode=block\n1 < content-type: application/json; charset=utf-8\n1 < x-cloud-trace-context: 4ed50261952a47b347b1466dd0074dc8\n1 < date: Fri, 20 Feb 2026 03:11:57 GMT\n1 < server: Google Frontend\n1 < Content-Length: 48\n{\n    \"message\": \"Email e/ou senha inválidos\"\n}\n\n","line":320}},{"name":"status 200","result":{"duration":55293,"error_message":"status code was: 401, expected: 200, response time in milliseconds: 95, url: https://serverest.dev/login, response: \n{\n    \"message\": \"Email e/ou senha inválidos\"\n}\nclasspath:serverest/carrinhos/Carts.feature:321","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":321,"doc_string":{"content_type":"","value":"03:11:57.476 classpath:serverest/carrinhos/Carts.feature:321\nThen status 200\nstatus code was: 401, expected: 200, response time in milliseconds: 95, url: https://serverest.dev/login, response: \n{\n    \"message\": \"Email e/ou senha inválidos\"\n}\nclasspath:serverest/carrinhos/Carts.feature:321\n","line":321}},{"name":"def token = response.authorization","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":322},{"name":"path '/carrinhos/cancelar-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":324},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":325},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":326},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":327},{"name":"def productName = randomProductName()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Create a product to be used in the cart"],"keyword":"*","line":330},{"name":"def productData =","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":331,"doc_string":{"content_type":"","value":"{\n  \"nome\": \"#(productName)\",\n  \"preco\": 150,\n  \"descricao\": \"Product created for duplicated products cart test\",\n  \"quantidade\": 10\n}","line":331}},{"name":"path '/produtos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":341},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":342},{"name":"request productData","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":343},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":344},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":345},{"name":"def productId = response._id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":346},{"result":{"duration":0,"status":"skipped"},"comments":["# Try to create a cart with duplicated products"],"line":349,"name":"def duplicatedCartBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"#(productId)\",\n      \"quantidade\": 1\n    },\n    {\n      \"idProduto\": \"#(productId)\",\n      \"quantidade\": 1\n    }\n  ]\n}","line":349}},{"name":"path '/carrinhos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":365},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":366},{"name":"request duplicatedCartBody","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":367},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":368},{"name":"status 400","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":369},{"name":"match response.message contains 'Não é permitido possuir produto duplicado'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":370}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":315}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":160961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":407611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":1261601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":722588,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def email = function(){ return FakerUtils.randomEmail() }","result":{"duration":361765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10}]},{"start_timestamp":"2026-02-20T03:11:57.366Z","line":374,"name":"CT08 - Prevent cart creation with non-existing product","description":"","id":"ct08---prevent-cart-creation-with-non-existing-product","type":"scenario","keyword":"Scenario","steps":[{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":837463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":375},{"name":"path '/login'","result":{"duration":129412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":376},{"name":"request loginPayload","result":{"duration":193331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":377},{"name":"method POST","result":{"duration":91822019,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":378,"doc_string":{"content_type":"","value":"03:11:57.375 request:\n1 > POST https://serverest.dev/login\n1 > Content-Type: application/json; charset=UTF-8\n1 > Content-Length: 44\n1 > Host: serverest.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"fulano@qa.com\",\"password\":\"teste\"}\n\n03:11:57.464 response time in milliseconds: 88\n1 < 401\n1 < access-control-allow-origin: *\n1 < x-dns-prefetch-control: off\n1 < x-frame-options: SAMEORIGIN\n1 < strict-transport-security: max-age=15552000; includeSubDomains\n1 < x-download-options: noopen\n1 < x-content-type-options: nosniff\n1 < x-xss-protection: 1; mode=block\n1 < content-type: application/json; charset=utf-8\n1 < x-cloud-trace-context: 3da073f44a62fa21c8e3c93799d88a9e\n1 < date: Fri, 20 Feb 2026 03:11:57 GMT\n1 < server: Google Frontend\n1 < Content-Length: 48\n{\n    \"message\": \"Email e/ou senha inválidos\"\n}\n\n","line":378}},{"name":"status 200","result":{"duration":69510,"error_message":"status code was: 401, expected: 200, response time in milliseconds: 88, url: https://serverest.dev/login, response: \n{\n    \"message\": \"Email e/ou senha inválidos\"\n}\nclasspath:serverest/carrinhos/Carts.feature:379","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":379,"doc_string":{"content_type":"","value":"03:11:57.466 classpath:serverest/carrinhos/Carts.feature:379\nThen status 200\nstatus code was: 401, expected: 200, response time in milliseconds: 88, url: https://serverest.dev/login, response: \n{\n    \"message\": \"Email e/ou senha inválidos\"\n}\nclasspath:serverest/carrinhos/Carts.feature:379\n","line":379}},{"name":"def token = response.authorization","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":380},{"name":"path '/carrinhos/cancelar-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":382},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":383},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":384},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":385},{"result":{"duration":0,"status":"skipped"},"comments":["# Try to create a cart with an invalid product ID"],"line":388,"name":"def invalidCartBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"AAAAAAAAAAAAAAAA\",\n      \"quantidade\": 1\n    }\n  ]\n}","line":388}},{"name":"path '/carrinhos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":400},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":401},{"name":"request invalidCartBody","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":402},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":403},{"name":"status 400","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":404},{"name":"match response.message contains 'Produto não encontrado'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":405}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":373}]}],"name":"serverest/carrinhos/Carts.feature","description":"Cart Management - ServeRest API","id":"cart-management---serverest-api","keyword":"Feature","uri":"serverest/carrinhos/Carts.feature","tags":[{"name":"@carts","line":2}]}]
[{"line":3,"elements":[{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":1950710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":8432362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":3057502,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":40149511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9}]},{"start_timestamp":"2026-02-17T03:33:10.137Z","line":13,"name":"CT01 - Full cart lifecycle for authenticated user","description":"","id":"ct01---full-cart-lifecycle-for-authenticated-user","type":"scenario","keyword":"Scenario","steps":[{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":5819103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"path '/login'","result":{"duration":308285,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":15},{"name":"request loginPayload","result":{"duration":2958507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"method POST","result":{"duration":929860913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":17,"doc_string":{"content_type":"","value":"03:33:10.798 request:\n1 > POST https://serverest.dev/login\n1 > Content-Type: application/json; charset=UTF-8\n1 > Content-Length: 44\n1 > Host: serverest.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"fulano@qa.com\",\"password\":\"teste\"}\n\n03:33:11.231 response time in milliseconds: 433\n1 < 200\n1 < access-control-allow-origin: *\n1 < x-dns-prefetch-control: off\n1 < x-frame-options: SAMEORIGIN\n1 < strict-transport-security: max-age=15552000; includeSubDomains\n1 < x-download-options: noopen\n1 < x-content-type-options: nosniff\n1 < x-xss-protection: 1; mode=block\n1 < content-type: application/json; charset=utf-8\n1 < x-cloud-trace-context: 23c40265699aa1f89170afa880b4202a\n1 < date: Tue, 17 Feb 2026 03:33:11 GMT\n1 < server: Google Frontend\n1 < Content-Length: 265\n{\n    \"message\": \"Login realizado com sucesso\",\n    \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMjk5MTkxLCJleHAiOjE3NzEyOTk3OTF9.yhzJajf3COZmeW8Fu8i7XZo_LJ7vSEYRtifSZF9OAng\"\n}\n\n","line":17}},{"name":"status 200","result":{"duration":10248,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":18},{"name":"def token = response.authorization","result":{"duration":737983,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19},{"name":"path '/carrinhos/cancelar-compra'","result":{"duration":260003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":21},{"name":"header Authorization = token","result":{"duration":283297,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":22},{"name":"method DELETE","result":{"duration":121322852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":23,"doc_string":{"content_type":"","value":"03:33:11.241 request:\n2 > DELETE https://serverest.dev/carrinhos/cancelar-compra\n2 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMjk5MTkxLCJleHAiOjE3NzEyOTk3OTF9.yhzJajf3COZmeW8Fu8i7XZo_LJ7vSEYRtifSZF9OAng\n2 > Host: serverest.dev\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n2 > Accept-Encoding: gzip,deflate\n\n\n03:33:11.359 response time in milliseconds: 117\n2 < 200\n2 < access-control-allow-origin: *\n2 < x-dns-prefetch-control: off\n2 < x-frame-options: SAMEORIGIN\n2 < strict-transport-security: max-age=15552000; includeSubDomains\n2 < x-download-options: noopen\n2 < x-content-type-options: nosniff\n2 < x-xss-protection: 1; mode=block\n2 < content-type: application/json; charset=utf-8\n2 < x-cloud-trace-context: 1ab4bff764a481856b0fa0c96f9e49fa\n2 < date: Tue, 17 Feb 2026 03:33:11 GMT\n2 < server: Google Frontend\n2 < Content-Length: 68\n{\n    \"message\": \"Não foi encontrado carrinho para esse usuário\"\n}\n\n","line":23}},{"name":"status 200","result":{"duration":15849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":24},{"name":"def productName = randomProductName()","result":{"duration":14655590,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Create a product to be used in the cart"],"keyword":"*","line":27},{"name":"def productData =","result":{"duration":2069359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":28,"doc_string":{"content_type":"","value":"{\n  \"nome\": \"#(productName)\",\n  \"preco\": 150,\n  \"descricao\": \"Product created for cart lifecycle test\",\n  \"quantidade\": 10\n}","line":28}},{"name":"path '/produtos'","result":{"duration":304286,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":38},{"name":"header Authorization = token","result":{"duration":209059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request productData","result":{"duration":177470,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"method POST","result":{"duration":147629446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":41,"doc_string":{"content_type":"","value":"03:33:11.380 request:\n3 > POST https://serverest.dev/produtos\n3 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMjk5MTkxLCJleHAiOjE3NzEyOTk3OTF9.yhzJajf3COZmeW8Fu8i7XZo_LJ7vSEYRtifSZF9OAng\n3 > Content-Type: application/json; charset=UTF-8\n3 > Content-Length: 111\n3 > Host: serverest.dev\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n3 > Accept-Encoding: gzip,deflate\n{\"nome\":\"Sleek Wooden Pants\",\"preco\":150,\"descricao\":\"Product created for cart lifecycle test\",\"quantidade\":10}\n\n03:33:11.526 response time in milliseconds: 145\n3 < 201\n3 < access-control-allow-origin: *\n3 < x-dns-prefetch-control: off\n3 < x-frame-options: SAMEORIGIN\n3 < strict-transport-security: max-age=15552000; includeSubDomains\n3 < x-download-options: noopen\n3 < x-content-type-options: nosniff\n3 < x-xss-protection: 1; mode=block\n3 < content-type: application/json; charset=utf-8\n3 < x-cloud-trace-context: 2166cdc0cceb1933dc6b3313275e6ad8\n3 < date: Tue, 17 Feb 2026 03:33:11 GMT\n3 < server: Google Frontend\n3 < Content-Length: 82\n{\n    \"message\": \"Cadastro realizado com sucesso\",\n    \"_id\": \"ltV8JTvFse1MBa8N\"\n}\n\n","line":41}},{"name":"status 201","result":{"duration":16190,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":42},{"name":"match response.message == 'Cadastro realizado com sucesso'","result":{"duration":2341432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"def productId = response._id","result":{"duration":922897,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"result":{"duration":738052,"status":"passed"},"comments":["# Create a cart for the logged user"],"line":47,"name":"def cartBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"#(productId)\",\n      \"quantidade\": 2\n    }\n  ]\n}","line":47}},{"name":"path '/carrinhos'","result":{"duration":327118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":59},{"name":"header Authorization = token","result":{"duration":110556,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":60},{"name":"request cartBody","result":{"duration":93474,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":61},{"name":"method POST","result":{"duration":124541840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":62,"doc_string":{"content_type":"","value":"03:33:11.536 request:\n4 > POST https://serverest.dev/carrinhos\n4 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMjk5MTkxLCJleHAiOjE3NzEyOTk3OTF9.yhzJajf3COZmeW8Fu8i7XZo_LJ7vSEYRtifSZF9OAng\n4 > Content-Type: application/json; charset=UTF-8\n4 > Content-Length: 62\n4 > Host: serverest.dev\n4 > Connection: Keep-Alive\n4 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n4 > Accept-Encoding: gzip,deflate\n{\"produtos\":[{\"idProduto\":\"ltV8JTvFse1MBa8N\",\"quantidade\":2}]}\n\n03:33:11.655 response time in milliseconds: 119\n4 < 400\n4 < access-control-allow-origin: *\n4 < x-dns-prefetch-control: off\n4 < x-frame-options: SAMEORIGIN\n4 < strict-transport-security: max-age=15552000; includeSubDomains\n4 < x-download-options: noopen\n4 < x-content-type-options: nosniff\n4 < x-xss-protection: 1; mode=block\n4 < content-type: application/json; charset=utf-8\n4 < x-cloud-trace-context: 7de913f9051272ebe638e1cc83c42160\n4 < date: Tue, 17 Feb 2026 03:33:11 GMT\n4 < server: Google Frontend\n4 < Content-Length: 61\n{\n    \"message\": \"Não é permitido ter mais de 1 carrinho\"\n}\n\n","line":62}},{"name":"status 201","result":{"duration":25272139,"error_message":"status code was: 400, expected: 201, response time in milliseconds: 119, url: https://serverest.dev/carrinhos, response: \n{\n    \"message\": \"Não é permitido ter mais de 1 carrinho\"\n}\nclasspath:serverest/carrinhos/Carts.feature:63","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":63,"doc_string":{"content_type":"","value":"03:33:11.681 classpath:serverest/carrinhos/Carts.feature:63\nThen status 201\nstatus code was: 400, expected: 201, response time in milliseconds: 119, url: https://serverest.dev/carrinhos, response: \n{\n    \"message\": \"Não é permitido ter mais de 1 carrinho\"\n}\nclasspath:serverest/carrinhos/Carts.feature:63\n","line":63}},{"name":"match response.message == 'Cadastro realizado com sucesso'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":64},{"name":"match response._id == '#string'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":65},{"name":"def cartId = response._id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":66},{"name":"path '/carrinhos/' + cartId","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Get cart by ID and validate structure"],"keyword":"Given","line":69},{"name":"method GET","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":70},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":71},{"name":"match response ==","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":72,"doc_string":{"content_type":"","value":"{\n  produtos: '#[1]',\n  precoTotal: '#number',\n  quantidadeTotal: '#number',\n  idUsuario: '#string',\n  _id: '#string'\n}","line":72}},{"name":"path '/carrinhos/concluir-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Conclude purchase: cart should be removed"],"keyword":"Given","line":84},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":85},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":86},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":87},{"name":"match response.message contains 'Registro excluído com sucesso'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":88}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":12}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":3598472,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":6704609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":846980,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":41196548,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9}]},{"start_timestamp":"2026-02-17T03:33:10.137Z","line":91,"name":"CT02 - Cancel purchase and return products to stock","description":"","id":"ct02---cancel-purchase-and-return-products-to-stock","type":"scenario","keyword":"Scenario","steps":[{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":7072230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":92},{"name":"path '/login'","result":{"duration":318183,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":93},{"name":"request loginPayload","result":{"duration":468954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":94},{"name":"method POST","result":{"duration":883891959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":95,"doc_string":{"content_type":"","value":"03:33:10.798 request:\n1 > POST https://serverest.dev/login\n1 > Content-Type: application/json; charset=UTF-8\n1 > Content-Length: 44\n1 > Host: serverest.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"fulano@qa.com\",\"password\":\"teste\"}\n\n03:33:11.190 response time in milliseconds: 388\n1 < 200\n1 < access-control-allow-origin: *\n1 < x-dns-prefetch-control: off\n1 < x-frame-options: SAMEORIGIN\n1 < strict-transport-security: max-age=15552000; includeSubDomains\n1 < x-download-options: noopen\n1 < x-content-type-options: nosniff\n1 < x-xss-protection: 1; mode=block\n1 < content-type: application/json; charset=utf-8\n1 < x-cloud-trace-context: 7c1df8b5624982151261c3d923cd3f6c;o=1\n1 < date: Tue, 17 Feb 2026 03:33:11 GMT\n1 < server: Google Frontend\n1 < Content-Length: 265\n{\n    \"message\": \"Login realizado com sucesso\",\n    \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMjk5MTkxLCJleHAiOjE3NzEyOTk3OTF9.yhzJajf3COZmeW8Fu8i7XZo_LJ7vSEYRtifSZF9OAng\"\n}\n\n","line":95}},{"name":"status 200","result":{"duration":3397430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":96},{"name":"def token = response.authorization","result":{"duration":1418819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":97},{"name":"def productName = randomProductName()","result":{"duration":176755329,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Create product for the cart"],"keyword":"*","line":100},{"name":"def productData =","result":{"duration":902869,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":101,"doc_string":{"content_type":"","value":"{\n  \"nome\": \"#(productName)\",\n  \"preco\": 200,\n  \"descricao\": \"Product for cancel purchase test\",\n  \"quantidade\": 5\n}","line":101}},{"name":"path '/produtos'","result":{"duration":323783,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":111},{"name":"print 'Using auth token:', token","result":{"duration":2675497,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":112,"doc_string":{"content_type":"","value":"03:33:11.378 [print] Using auth token: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMjk5MTkxLCJleHAiOjE3NzEyOTk3OTF9.yhzJajf3COZmeW8Fu8i7XZo_LJ7vSEYRtifSZF9OAng \n","line":112}},{"name":"header Authorization = token","result":{"duration":203438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":113},{"name":"request productData","result":{"duration":161650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":114},{"name":"method POST","result":{"duration":124091333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":115,"doc_string":{"content_type":"","value":"03:33:11.383 request:\n2 > POST https://serverest.dev/produtos\n2 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMjk5MTkxLCJleHAiOjE3NzEyOTk3OTF9.yhzJajf3COZmeW8Fu8i7XZo_LJ7vSEYRtifSZF9OAng\n2 > Content-Type: application/json; charset=UTF-8\n2 > Content-Length: 109\n2 > Host: serverest.dev\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n2 > Accept-Encoding: gzip,deflate\n{\"nome\":\"Practical Plastic Wallet\",\"preco\":200,\"descricao\":\"Product for cancel purchase test\",\"quantidade\":5}\n\n03:33:11.502 response time in milliseconds: 118\n2 < 201\n2 < access-control-allow-origin: *\n2 < x-dns-prefetch-control: off\n2 < x-frame-options: SAMEORIGIN\n2 < strict-transport-security: max-age=15552000; includeSubDomains\n2 < x-download-options: noopen\n2 < x-content-type-options: nosniff\n2 < x-xss-protection: 1; mode=block\n2 < content-type: application/json; charset=utf-8\n2 < x-cloud-trace-context: 40ae986e1c3f92fb8c6646dfff7cf99c\n2 < date: Tue, 17 Feb 2026 03:33:11 GMT\n2 < server: Google Frontend\n2 < Content-Length: 82\n{\n    \"message\": \"Cadastro realizado com sucesso\",\n    \"_id\": \"NWeeOBCLhLPREH8z\"\n}\n\n","line":115}},{"name":"status 201","result":{"duration":18424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":116},{"name":"def productId = response._id","result":{"duration":1398511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":117},{"result":{"duration":874927,"status":"passed"},"comments":["# Create cart"],"line":120,"name":"def cartBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"#(productId)\",\n      \"quantidade\": 1\n    }\n  ]\n}","line":120}},{"name":"path '/carrinhos'","result":{"duration":328702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":132},{"name":"header Authorization = token","result":{"duration":190794,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":133},{"name":"request cartBody","result":{"duration":170887,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":134},{"name":"method POST","result":{"duration":122760952,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":135,"doc_string":{"content_type":"","value":"03:33:11.508 request:\n3 > POST https://serverest.dev/carrinhos\n3 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMjk5MTkxLCJleHAiOjE3NzEyOTk3OTF9.yhzJajf3COZmeW8Fu8i7XZo_LJ7vSEYRtifSZF9OAng\n3 > Content-Type: application/json; charset=UTF-8\n3 > Content-Length: 62\n3 > Host: serverest.dev\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n3 > Accept-Encoding: gzip,deflate\n{\"produtos\":[{\"idProduto\":\"NWeeOBCLhLPREH8z\",\"quantidade\":1}]}\n\n03:33:11.629 response time in milliseconds: 120\n3 < 201\n3 < access-control-allow-origin: *\n3 < x-dns-prefetch-control: off\n3 < x-frame-options: SAMEORIGIN\n3 < strict-transport-security: max-age=15552000; includeSubDomains\n3 < x-download-options: noopen\n3 < x-content-type-options: nosniff\n3 < x-xss-protection: 1; mode=block\n3 < content-type: application/json; charset=utf-8\n3 < x-cloud-trace-context: 913b9a9ef92c89c90bf18ba00b08c345\n3 < date: Tue, 17 Feb 2026 03:33:11 GMT\n3 < server: Google Frontend\n3 < Content-Length: 82\n{\n    \"message\": \"Cadastro realizado com sucesso\",\n    \"_id\": \"r14RocVaf7WKgOFf\"\n}\n\n","line":135}},{"name":"status 201","result":{"duration":12583,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":136},{"name":"path '/carrinhos/cancelar-compra'","result":{"duration":574678,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Cancel purchase: cart removed and stock should be restored (implicit)"],"keyword":"Given","line":139},{"name":"header Authorization = token","result":{"duration":119963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":140},{"name":"method DELETE","result":{"duration":135462053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":141,"doc_string":{"content_type":"","value":"03:33:11.631 request:\n4 > DELETE https://serverest.dev/carrinhos/cancelar-compra\n4 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZ1bGFub0BxYS5jb20iLCJwYXNzd29yZCI6InRlc3RlIiwiaWF0IjoxNzcxMjk5MTkxLCJleHAiOjE3NzEyOTk3OTF9.yhzJajf3COZmeW8Fu8i7XZo_LJ7vSEYRtifSZF9OAng\n4 > Host: serverest.dev\n4 > Connection: Keep-Alive\n4 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n4 > Accept-Encoding: gzip,deflate\n\n\n03:33:11.765 response time in milliseconds: 133\n4 < 200\n4 < access-control-allow-origin: *\n4 < x-dns-prefetch-control: off\n4 < x-frame-options: SAMEORIGIN\n4 < strict-transport-security: max-age=15552000; includeSubDomains\n4 < x-download-options: noopen\n4 < x-content-type-options: nosniff\n4 < x-xss-protection: 1; mode=block\n4 < content-type: application/json; charset=utf-8\n4 < x-cloud-trace-context: c0603a589294dc69813e4e86c51683bc\n4 < date: Tue, 17 Feb 2026 03:33:11 GMT\n4 < server: Google Frontend\n4 < Content-Length: 86\n{\n    \"message\": \"Registro excluído com sucesso. Estoque dos produtos reabastecido\"\n}\n\n","line":141}},{"name":"status 200","result":{"duration":15098,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":142},{"name":"match response.message == '#string'","result":{"duration":4018705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":143}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":90}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":493591,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":4513397,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":2248183,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":48162856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9}]},{"start_timestamp":"2026-02-17T03:33:10.156Z","line":146,"name":"CT03 - Prevent creating cart without authentication token","description":"","id":"ct03---prevent-creating-cart-without-authentication-token","type":"scenario","keyword":"Scenario","steps":[{"result":{"duration":491646,"status":"passed"},"comments":["# Try to create a cart without Authorization header"],"line":148,"name":"def cartBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"BeeJh5lz3k6kSIzA\",\n      \"quantidade\": 1\n    }\n  ]\n}","line":148}},{"name":"path '/carrinhos'","result":{"duration":355784,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":160},{"name":"request cartBody","result":{"duration":695377,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":161},{"name":"method POST","result":{"duration":911778144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":162,"doc_string":{"content_type":"","value":"03:33:10.798 request:\n1 > POST https://serverest.dev/carrinhos\n1 > Content-Type: application/json; charset=UTF-8\n1 > Content-Length: 62\n1 > Host: serverest.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"produtos\":[{\"idProduto\":\"BeeJh5lz3k6kSIzA\",\"quantidade\":1}]}\n\n03:33:11.212 response time in milliseconds: 413\n1 < 401\n1 < access-control-allow-origin: *\n1 < x-dns-prefetch-control: off\n1 < x-frame-options: SAMEORIGIN\n1 < strict-transport-security: max-age=15552000; includeSubDomains\n1 < x-download-options: noopen\n1 < x-content-type-options: nosniff\n1 < x-xss-protection: 1; mode=block\n1 < content-type: application/json; charset=utf-8\n1 < x-cloud-trace-context: 76b6bc9893ac2542d883278f804506c2\n1 < date: Tue, 17 Feb 2026 03:33:11 GMT\n1 < server: Google Frontend\n1 < Content-Length: 103\n{\n    \"message\": \"Token de acesso ausente, inválido, expirado ou usuário do token não existe mais\"\n}\n\n","line":162}},{"name":"status 401","result":{"duration":8245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":163},{"name":"match response.message == 'Token de acesso ausente, inválido, expirado ou usuário do token não existe mais'","result":{"duration":15973537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":164}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":145}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":3561392,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":9718680,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":929123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":44828670,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9}]},{"start_timestamp":"2026-02-17T03:33:10.144Z","line":167,"name":"CT04 - Prevent creating more than one cart for the same user","description":"","id":"ct04---prevent-creating-more-than-one-cart-for-the-same-user","type":"scenario","keyword":"Scenario","steps":[{"name":"def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')","result":{"duration":124646012,"error_message":"js failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:168","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":168,"doc_string":{"content_type":"","value":"03:33:10.430 classpath:serverest/carrinhos/Carts.feature:168\n* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')\njs failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:168\n","line":168}},{"name":"def token = loginResponse.authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":169},{"name":"def productName = randomProductName()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Create a product specifically for this user's cart"],"keyword":"*","line":172},{"name":"def productData =","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":173,"doc_string":{"content_type":"","value":"{\n  \"nome\": \"#(productName)\",\n  \"preco\": 120,\n  \"descricao\": \"Product for multiple cart test\",\n  \"quantidade\": 3\n}","line":173}},{"name":"path '/produtos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":183},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":184},{"name":"request productData","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":185},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":186},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":187},{"name":"def productId = response._id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":188},{"result":{"duration":0,"status":"skipped"},"comments":["# Create the first cart"],"line":191,"name":"def firstCart =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"#(productId)\",\n      \"quantidade\": 1\n    }\n  ]\n}","line":191}},{"name":"path '/carrinhos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":203},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":204},{"name":"request firstCart","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":205},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":206},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":207},{"name":"def secondCart = firstCart","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Try to create a second cart for same user"],"keyword":"*","line":210},{"name":"path '/carrinhos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":211},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":212},{"name":"request secondCart","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":213},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":214},{"name":"status 400","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":215},{"name":"match response.message contains 'Não é permitido ter mais de 1 carrinho'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":216}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":166}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":3310775,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":9580909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":914545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":42852427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9}]},{"start_timestamp":"2026-02-17T03:33:10.138Z","line":219,"name":"CT05 - Cart not found by ID","description":"","id":"ct05---cart-not-found-by-id","type":"scenario","keyword":"Scenario","steps":[{"name":"path '/carrinhos/invalid-cart-id-123'","result":{"duration":557139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":220},{"name":"method GET","result":{"duration":984346225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":221,"doc_string":{"content_type":"","value":"03:33:10.657 request:\n1 > GET https://serverest.dev/carrinhos/invalid-cart-id-123\n1 > Host: serverest.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient/4.5.14 (Java/21.0.10)\n1 > Accept-Encoding: gzip,deflate\n\n\n03:33:11.283 response time in milliseconds: 625\n1 < 400\n1 < access-control-allow-origin: *\n1 < x-dns-prefetch-control: off\n1 < x-frame-options: SAMEORIGIN\n1 < strict-transport-security: max-age=15552000; includeSubDomains\n1 < x-download-options: noopen\n1 < x-content-type-options: nosniff\n1 < x-xss-protection: 1; mode=block\n1 < content-type: application/json; charset=utf-8\n1 < x-cloud-trace-context: 967453245da3d46e2c9eca23d972b733\n1 < date: Tue, 17 Feb 2026 03:33:11 GMT\n1 < server: Google Frontend\n1 < Content-Length: 67\n{\n    \"id\": \"id deve ter exatamente 16 caracteres alfanuméricos\"\n}\n\n","line":221}},{"name":"status 400","result":{"duration":18755,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":222},{"name":"match response == { id: 'id deve ter exatamente 16 caracteres alfanuméricos' }","result":{"duration":879926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":223}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":218}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":543423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":2587776,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":1455395,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":43922796,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9}]},{"start_timestamp":"2026-02-17T03:33:10.137Z","line":226,"name":"CT06 - Prevent cart creation when product stock is insufficient","description":"","id":"ct06---prevent-cart-creation-when-product-stock-is-insufficient","type":"scenario","keyword":"Scenario","steps":[{"name":"def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')","result":{"duration":128111964,"error_message":"js failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:227","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":227,"doc_string":{"content_type":"","value":"03:33:10.430 classpath:serverest/carrinhos/Carts.feature:227\n* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')\njs failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:227\n","line":227}},{"name":"def token = loginResponse.authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":228},{"name":"path '/carrinhos/cancelar-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":230},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":231},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":232},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":233},{"name":"def productName = randomProductName()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Create product with low stock"],"keyword":"*","line":236},{"name":"def productData =","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":237,"doc_string":{"content_type":"","value":"{\n  \"nome\": \"#(productName)\",\n  \"preco\": 100,\n  \"descricao\": \"Low stock product for cart test\",\n  \"quantidade\": 1\n}","line":237}},{"name":"path '/produtos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":247},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":248},{"name":"request productData","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":249},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":250},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":251},{"name":"def productId = response._id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":252},{"result":{"duration":0,"status":"skipped"},"comments":["# Try to create cart with quantity greater than available stock"],"line":255,"name":"def cartBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"#(productId)\",\n      \"quantidade\": 2\n    }\n  ]\n}","line":255}},{"name":"path '/carrinhos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":267},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":268},{"name":"request cartBody","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":269},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":270},{"name":"status 400","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":271},{"name":"match response.message contains 'Produto não possui quantidade suficiente'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":272}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":225}]}],"name":"serverest/carrinhos/Carts.feature","description":"Cart Management - ServeRest API","id":"cart-management---serverest-api","keyword":"Feature","uri":"serverest/carrinhos/Carts.feature","tags":[{"name":"@carts","line":2}]}]
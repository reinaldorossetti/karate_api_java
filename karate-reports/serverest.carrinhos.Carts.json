[{"line":3,"elements":[{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":1416857,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":5246576,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":1276189,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":41434274,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')","result":{"duration":19470397,"error_message":"js failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:10","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10,"doc_string":{"content_type":"","value":"03:13:44.319 classpath:serverest/carrinhos/Carts.feature:10\n* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')\njs failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:10\n","line":10}},{"name":"def authToken = loginResponse.authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"path '/carrinhos/concluir-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Always clear any existing cart for the default user before each scenario"],"keyword":"Given","line":13},{"name":"header Authorization = authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":15},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":16}]},{"start_timestamp":"2026-02-17T03:13:44.161Z","line":19,"name":"CT01 - Full cart lifecycle for authenticated user","description":"","id":"ct01---full-cart-lifecycle-for-authenticated-user","type":"scenario","keyword":"Scenario","steps":[{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":20},{"name":"path '/login'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":21},{"name":"request loginPayload","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":22},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":23},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":24},{"name":"def token = response.authorization","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":25},{"name":"def productName = randomProductName()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Create a product to be used in the cart"],"keyword":"*","line":28},{"name":"def productData =","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":29,"doc_string":{"content_type":"","value":"{\n  \"nome\": \"#(productName)\",\n  \"preco\": 150,\n  \"descricao\": \"Product created for cart lifecycle test\",\n  \"quantidade\": 10\n}","line":29}},{"name":"path '/produtos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request productData","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":42},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":43},{"name":"match response.message == 'Cadastro realizado com sucesso'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"def productId = response._id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45},{"result":{"duration":0,"status":"skipped"},"comments":["# Create a cart for the logged user"],"line":48,"name":"def cartBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"#(productId)\",\n      \"quantidade\": 2\n    }\n  ]\n}","line":48}},{"name":"path '/carrinhos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":60},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":61},{"name":"request cartBody","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":62},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":63},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":64},{"name":"match response.message == 'Cadastro realizado com sucesso'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":65},{"name":"match response._id == '#string'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":66},{"name":"def cartId = response._id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":67},{"name":"path '/carrinhos/' + cartId","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Get cart by ID and validate structure"],"keyword":"Given","line":70},{"name":"method GET","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":71},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":72},{"name":"match response ==","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":73,"doc_string":{"content_type":"","value":"{\n  produtos: '#[1]',\n  precoTotal: '#number',\n  quantidadeTotal: '#number',\n  idUsuario: '#string',\n  _id: '#string'\n}","line":73}},{"name":"path '/carrinhos/concluir-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Conclude purchase: cart should be removed"],"keyword":"Given","line":85},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":86},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":87},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":88},{"name":"match response.message contains 'Registro excluído com sucesso'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":89}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":18}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":2581895,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":12753281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":927459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":33337411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')","result":{"duration":35492412,"error_message":"js failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:10","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10,"doc_string":{"content_type":"","value":"03:13:44.333 classpath:serverest/carrinhos/Carts.feature:10\n* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')\njs failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:10\n","line":10}},{"name":"def authToken = loginResponse.authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"path '/carrinhos/concluir-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Always clear any existing cart for the default user before each scenario"],"keyword":"Given","line":13},{"name":"header Authorization = authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":15},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":16}]},{"start_timestamp":"2026-02-17T03:13:44.162Z","line":92,"name":"CT02 - Cancel purchase and return products to stock","description":"","id":"ct02---cancel-purchase-and-return-products-to-stock","type":"scenario","keyword":"Scenario","steps":[{"name":"def productName = randomProductName()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Create product for the cart"],"keyword":"*","line":95},{"name":"def productData =","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":96,"doc_string":{"content_type":"","value":"{\n  \"nome\": \"#(productName)\",\n  \"preco\": 200,\n  \"descricao\": \"Product for cancel purchase test\",\n  \"quantidade\": 5\n}","line":96}},{"name":"path '/produtos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":106},{"name":"print 'Using auth token:', authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":107},{"name":"header Authorization = authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":108},{"name":"request productData","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":109},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":110},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":111},{"name":"def productId = response._id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":112},{"result":{"duration":0,"status":"skipped"},"comments":["# Create cart"],"line":115,"name":"def cartBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"#(productId)\",\n      \"quantidade\": 1\n    }\n  ]\n}","line":115}},{"name":"path '/carrinhos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":127},{"name":"header Authorization = authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":128},{"name":"request cartBody","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":129},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":130},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":131},{"name":"path '/carrinhos/cancelar-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Cancel purchase: cart removed and stock should be restored (implicit)"],"keyword":"Given","line":134},{"name":"header Authorization = authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":135},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":136},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":137},{"name":"match response.message contains 'Registro excluído com sucesso'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":138}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":91}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":1282422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":6449551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":3173026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":34503638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')","result":{"duration":31466712,"error_message":"js failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:10","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10,"doc_string":{"content_type":"","value":"03:13:44.328 classpath:serverest/carrinhos/Carts.feature:10\n* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')\njs failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:10\n","line":10}},{"name":"def authToken = loginResponse.authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"path '/carrinhos/concluir-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Always clear any existing cart for the default user before each scenario"],"keyword":"Given","line":13},{"name":"header Authorization = authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":15},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":16}]},{"start_timestamp":"2026-02-17T03:13:44.161Z","line":141,"name":"CT03 - Prevent creating cart without authentication token","description":"","id":"ct03---prevent-creating-cart-without-authentication-token","type":"scenario","keyword":"Scenario","steps":[{"result":{"duration":0,"status":"skipped"},"comments":["# Try to create a cart without Authorization header"],"line":143,"name":"def cartBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"BeeJh5lz3k6kSIzA\",\n      \"quantidade\": 1\n    }\n  ]\n}","line":143}},{"name":"path '/carrinhos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":155},{"name":"request cartBody","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":156},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":157},{"name":"status 401","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":158},{"name":"match response.message == 'Token de acesso ausente, inválido, expirado ou usuário do token não existe mais'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":159}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":140}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":522110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":7656011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":1041284,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":39119695,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')","result":{"duration":28140396,"error_message":"js failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:10","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10,"doc_string":{"content_type":"","value":"03:13:44.326 classpath:serverest/carrinhos/Carts.feature:10\n* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')\njs failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:10\n","line":10}},{"name":"def authToken = loginResponse.authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"path '/carrinhos/concluir-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Always clear any existing cart for the default user before each scenario"],"keyword":"Given","line":13},{"name":"header Authorization = authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":15},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":16}]},{"start_timestamp":"2026-02-17T03:13:44.162Z","line":162,"name":"CT04 - Prevent creating more than one cart for the same user","description":"","id":"ct04---prevent-creating-more-than-one-cart-for-the-same-user","type":"scenario","keyword":"Scenario","steps":[{"name":"def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":163},{"name":"def token = loginResponse.authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":164},{"name":"def productName = randomProductName()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Create a product specifically for this user's cart"],"keyword":"*","line":167},{"name":"def productData =","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":168,"doc_string":{"content_type":"","value":"{\n  \"nome\": \"#(productName)\",\n  \"preco\": 120,\n  \"descricao\": \"Product for multiple cart test\",\n  \"quantidade\": 3\n}","line":168}},{"name":"path '/produtos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":178},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":179},{"name":"request productData","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":180},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":181},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":182},{"name":"def productId = response._id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":183},{"result":{"duration":0,"status":"skipped"},"comments":["# Create the first cart"],"line":186,"name":"def firstCart =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"#(productId)\",\n      \"quantidade\": 1\n    }\n  ]\n}","line":186}},{"name":"path '/carrinhos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":198},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":199},{"name":"request firstCart","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":200},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":201},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":202},{"name":"def secondCart = firstCart","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Try to create a second cart for same user"],"keyword":"*","line":205},{"name":"path '/carrinhos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":206},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":207},{"name":"request secondCart","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":208},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":209},{"name":"status 400","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":210},{"name":"match response.message contains 'Não é permitido ter mais de 1 carrinho'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":211}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":161}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":2361593,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":8948380,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":887072,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":34878794,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')","result":{"duration":20624064,"error_message":"js failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:10","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10,"doc_string":{"content_type":"","value":"03:13:44.322 classpath:serverest/carrinhos/Carts.feature:10\n* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')\njs failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:10\n","line":10}},{"name":"def authToken = loginResponse.authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"path '/carrinhos/concluir-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Always clear any existing cart for the default user before each scenario"],"keyword":"Given","line":13},{"name":"header Authorization = authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":15},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":16}]},{"start_timestamp":"2026-02-17T03:13:44.161Z","line":214,"name":"CT05 - Cart not found by ID","description":"","id":"ct05---cart-not-found-by-id","type":"scenario","keyword":"Scenario","steps":[{"name":"path '/carrinhos/invalid-cart-id-123'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":215},{"name":"method GET","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":216},{"name":"status 400","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":217},{"name":"match response == { id: 'id deve ter exatamente 16 caracteres alfanuméricos' }","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":218}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":213}]},{"line":5,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https://serverest.dev'","result":{"duration":1183434,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def FakerUtils = Java.type('serverest.utils.FakerUtils')","result":{"duration":10998083,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def randomProductName = function(){ return FakerUtils.randomProduct() }","result":{"duration":892302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def loginPayload = read('classpath:serverest/login/resources/loginPayload.json')","result":{"duration":31750703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')","result":{"duration":34213661,"error_message":"js failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:10","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10,"doc_string":{"content_type":"","value":"03:13:44.330 classpath:serverest/carrinhos/Carts.feature:10\n* def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')\njs failed:\n>>>>\n01: read('classpath:serverest/login/Login.feature@login-success')\n<<<<\norg.graalvm.polyglot.PolyglotException: not found: serverest/login/Login.feature\n- com.intuit.karate.resource.ResourceUtils.getResource(ResourceUtils.java:126)\n- com.intuit.karate.core.ScenarioFileReader.toResource(ScenarioFileReader.java:129)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:64)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:109)\n- <js>.:program(Unnamed:1)\n\nclasspath:serverest/carrinhos/Carts.feature:10\n","line":10}},{"name":"def authToken = loginResponse.authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"path '/carrinhos/concluir-compra'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Always clear any existing cart for the default user before each scenario"],"keyword":"Given","line":13},{"name":"header Authorization = authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"method DELETE","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":15},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":16}]},{"start_timestamp":"2026-02-17T03:13:44.162Z","line":221,"name":"CT06 - Prevent cart creation when product stock is insufficient","description":"","id":"ct06---prevent-cart-creation-when-product-stock-is-insufficient","type":"scenario","keyword":"Scenario","steps":[{"name":"def loginResponse = call read('classpath:serverest/login/Login.feature@login-success')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":222},{"name":"def token = loginResponse.authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":223},{"name":"def productName = randomProductName()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# Create product with low stock"],"keyword":"*","line":226},{"name":"def productData =","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":227,"doc_string":{"content_type":"","value":"{\n  \"nome\": \"#(productName)\",\n  \"preco\": 100,\n  \"descricao\": \"Low stock product for cart test\",\n  \"quantidade\": 1\n}","line":227}},{"name":"path '/produtos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":237},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":238},{"name":"request productData","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":239},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":240},{"name":"status 201","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":241},{"name":"def productId = response._id","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":242},{"result":{"duration":0,"status":"skipped"},"comments":["# Try to create cart with quantity greater than available stock"],"line":245,"name":"def cartBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n  \"produtos\": [\n    {\n      \"idProduto\": \"#(productId)\",\n      \"quantidade\": 2\n    }\n  ]\n}","line":245}},{"name":"path '/carrinhos'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":257},{"name":"header Authorization = token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":258},{"name":"request cartBody","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":259},{"name":"method POST","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":260},{"name":"status 400","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":261},{"name":"match response.message contains 'Produto não possui quantidade suficiente'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":262}],"tags":[{"name":"@carts","line":2},{"name":"@regression","line":220}]}],"name":"serverest/carrinhos/Carts.feature","description":"Cart Management - ServeRest API","id":"cart-management---serverest-api","keyword":"Feature","uri":"serverest/carrinhos/Carts.feature","tags":[{"name":"@carts","line":2}]}]